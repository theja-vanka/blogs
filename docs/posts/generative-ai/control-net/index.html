<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Krishnatheja Vanka">
<meta name="dcterms.date" content="2025-07-22">

<title>ControlNet: Revolutionizing AI Image Generation with Precise Control – Krishnatheja Vanka’s Blog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../favicon.ico" rel="icon">
<script src="../../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-dark-bc185b5c5bdbcb35c2eb49d8a876ef70.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-62c28fcd870f55f61984f019219cbd7c.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../../site_libs/bootstrap/bootstrap-dark-5a86c4bd0c1f9981a70f893fdae069f2.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../../site_libs/bootstrap/bootstrap-62c28fcd870f55f61984f019219cbd7c.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../../styles/styles.css">
</head>

<body class="floating nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Krishnatheja Vanka’s Blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">About me</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/theja-vanka"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-right">
      <h1 class="title">ControlNet: Revolutionizing AI Image Generation with Precise Control</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">research</div>
                <div class="quarto-category">intermediate</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta column-page-right">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Krishnatheja Vanka </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">July 22, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#controlnet-revolutionizing-ai-image-generation-with-precise-control" id="toc-controlnet-revolutionizing-ai-image-generation-with-precise-control" class="nav-link active" data-scroll-target="#controlnet-revolutionizing-ai-image-generation-with-precise-control">ControlNet: Revolutionizing AI Image Generation with Precise Control</a>
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#technical-architecture" id="toc-technical-architecture" class="nav-link" data-scroll-target="#technical-architecture">Technical Architecture</a>
  <ul class="collapse">
  <li><a href="#core-concept" id="toc-core-concept" class="nav-link" data-scroll-target="#core-concept">Core Concept</a></li>
  <li><a href="#how-controlnet-works" id="toc-how-controlnet-works" class="nav-link" data-scroll-target="#how-controlnet-works">How ControlNet Works</a></li>
  </ul></li>
  <li><a href="#types-of-controlnet-models" id="toc-types-of-controlnet-models" class="nav-link" data-scroll-target="#types-of-controlnet-models">Types of ControlNet Models</a>
  <ul class="collapse">
  <li><a href="#canny-edge-detection" id="toc-canny-edge-detection" class="nav-link" data-scroll-target="#canny-edge-detection">Canny Edge Detection</a></li>
  <li><a href="#depth-map-control" id="toc-depth-map-control" class="nav-link" data-scroll-target="#depth-map-control">Depth Map Control</a></li>
  <li><a href="#openpose-human-detection" id="toc-openpose-human-detection" class="nav-link" data-scroll-target="#openpose-human-detection">OpenPose Human Detection</a></li>
  <li><a href="#scribble-control" id="toc-scribble-control" class="nav-link" data-scroll-target="#scribble-control">Scribble Control</a></li>
  <li><a href="#semantic-segmentation" id="toc-semantic-segmentation" class="nav-link" data-scroll-target="#semantic-segmentation">Semantic Segmentation</a></li>
  <li><a href="#normal-map-control" id="toc-normal-map-control" class="nav-link" data-scroll-target="#normal-map-control">Normal Map Control</a></li>
  <li><a href="#line-art-lineart" id="toc-line-art-lineart" class="nav-link" data-scroll-target="#line-art-lineart">Line Art (Lineart)</a></li>
  </ul></li>
  <li><a href="#advanced-controlnet-techniques" id="toc-advanced-controlnet-techniques" class="nav-link" data-scroll-target="#advanced-controlnet-techniques">Advanced ControlNet Techniques</a>
  <ul class="collapse">
  <li><a href="#multi-controlnet-workflows" id="toc-multi-controlnet-workflows" class="nav-link" data-scroll-target="#multi-controlnet-workflows">Multi-ControlNet Workflows</a></li>
  <li><a href="#controlnet-preprocessing" id="toc-controlnet-preprocessing" class="nav-link" data-scroll-target="#controlnet-preprocessing">ControlNet Preprocessing</a></li>
  <li><a href="#regional-control-techniques" id="toc-regional-control-techniques" class="nav-link" data-scroll-target="#regional-control-techniques">Regional Control Techniques</a></li>
  </ul></li>
  <li><a href="#professional-workflows-and-applications" id="toc-professional-workflows-and-applications" class="nav-link" data-scroll-target="#professional-workflows-and-applications">Professional Workflows and Applications</a>
  <ul class="collapse">
  <li><a href="#concept-art-and-pre-visualization" id="toc-concept-art-and-pre-visualization" class="nav-link" data-scroll-target="#concept-art-and-pre-visualization">Concept Art and Pre-visualization</a></li>
  <li><a href="#architectural-visualization" id="toc-architectural-visualization" class="nav-link" data-scroll-target="#architectural-visualization">Architectural Visualization</a></li>
  <li><a href="#fashion-and-product-design" id="toc-fashion-and-product-design" class="nav-link" data-scroll-target="#fashion-and-product-design">Fashion and Product Design</a></li>
  <li><a href="#film-and-animation-pre-production" id="toc-film-and-animation-pre-production" class="nav-link" data-scroll-target="#film-and-animation-pre-production">Film and Animation Pre-production</a></li>
  </ul></li>
  <li><a href="#technical-implementation" id="toc-technical-implementation" class="nav-link" data-scroll-target="#technical-implementation">Technical Implementation</a>
  <ul class="collapse">
  <li><a href="#model-training-and-fine-tuning" id="toc-model-training-and-fine-tuning" class="nav-link" data-scroll-target="#model-training-and-fine-tuning">Model Training and Fine-tuning</a></li>
  <li><a href="#integration-with-existing-pipelines" id="toc-integration-with-existing-pipelines" class="nav-link" data-scroll-target="#integration-with-existing-pipelines">Integration with Existing Pipelines</a></li>
  <li><a href="#hardware-and-performance-considerations" id="toc-hardware-and-performance-considerations" class="nav-link" data-scroll-target="#hardware-and-performance-considerations">Hardware and Performance Considerations</a></li>
  </ul></li>
  <li><a href="#best-practices-and-tips" id="toc-best-practices-and-tips" class="nav-link" data-scroll-target="#best-practices-and-tips">Best Practices and Tips</a>
  <ul class="collapse">
  <li><a href="#control-weight-optimization" id="toc-control-weight-optimization" class="nav-link" data-scroll-target="#control-weight-optimization">Control Weight Optimization</a></li>
  <li><a href="#prompt-engineering-with-controlnet" id="toc-prompt-engineering-with-controlnet" class="nav-link" data-scroll-target="#prompt-engineering-with-controlnet">Prompt Engineering with ControlNet</a></li>
  <li><a href="#quality-control-and-iteration" id="toc-quality-control-and-iteration" class="nav-link" data-scroll-target="#quality-control-and-iteration">Quality Control and Iteration</a></li>
  </ul></li>
  <li><a href="#limitations-and-considerations" id="toc-limitations-and-considerations" class="nav-link" data-scroll-target="#limitations-and-considerations">Limitations and Considerations</a>
  <ul class="collapse">
  <li><a href="#technical-limitations" id="toc-technical-limitations" class="nav-link" data-scroll-target="#technical-limitations">Technical Limitations</a></li>
  <li><a href="#creative-limitations" id="toc-creative-limitations" class="nav-link" data-scroll-target="#creative-limitations">Creative Limitations</a></li>
  </ul></li>
  <li><a href="#future-developments-and-trends" id="toc-future-developments-and-trends" class="nav-link" data-scroll-target="#future-developments-and-trends">Future Developments and Trends</a>
  <ul class="collapse">
  <li><a href="#emerging-control-types" id="toc-emerging-control-types" class="nav-link" data-scroll-target="#emerging-control-types">Emerging Control Types</a></li>
  <li><a href="#integration-advancements" id="toc-integration-advancements" class="nav-link" data-scroll-target="#integration-advancements">Integration Advancements</a></li>
  <li><a href="#professional-adoption" id="toc-professional-adoption" class="nav-link" data-scroll-target="#professional-adoption">Professional Adoption</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-right" id="quarto-document-content">






<section id="controlnet-revolutionizing-ai-image-generation-with-precise-control" class="level1">
<h1>ControlNet: Revolutionizing AI Image Generation with Precise Control</h1>
<p><img src="cn.png" class="img-fluid"></p>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>ControlNet represents a groundbreaking advancement in the field of AI-generated imagery, providing unprecedented control over the output of diffusion models like Stable Diffusion. Developed by researchers at Stanford University and released in early 2023, ControlNet has fundamentally changed how artists, designers, and developers approach AI image generation by enabling precise spatial control while maintaining the creative power of the underlying diffusion model.</p>
<p>Unlike traditional text-to-image generation where users rely solely on prompts and hope for desired compositions, ControlNet introduces conditional inputs that guide the generation process through various control mechanisms such as edge maps, depth maps, pose detection, and semantic segmentation. This innovation bridges the gap between creative intent and AI output, making AI image generation more predictable and professionally viable.</p>
</section>
<section id="technical-architecture" class="level2">
<h2 class="anchored" data-anchor-id="technical-architecture">Technical Architecture</h2>
<section id="core-concept" class="level3">
<h3 class="anchored" data-anchor-id="core-concept">Core Concept</h3>
<p>ControlNet operates as an additional neural network architecture that works alongside pre-trained diffusion models. Rather than modifying the original model weights, ControlNet creates a parallel pathway that processes control inputs and injects spatial guidance into the generation process. This approach preserves the original model’s capabilities while adding new functionality.</p>
<p>The architecture consists of two main components:</p>
<ol type="1">
<li><strong>Trainable Copy</strong>: A duplicate of the encoding layers from the original diffusion model</li>
<li><strong>Zero Convolution Layers</strong>: Special convolution layers initialized to zero that gradually learn to incorporate control information</li>
</ol>
</section>
<section id="how-controlnet-works" class="level3">
<h3 class="anchored" data-anchor-id="how-controlnet-works">How ControlNet Works</h3>
<p>The ControlNet process follows these key steps:</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
ControlNet Process Flow
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><strong>Control Input Processing</strong>: The control image (edge map, depth map, etc.) is processed through the trainable copy of the original model’s encoder</li>
<li><strong>Feature Integration</strong>: Zero convolution layers combine the control features with the original model’s features</li>
<li><strong>Guided Generation</strong>: The combined features guide the denoising process, ensuring the output adheres to the spatial constraints while maintaining semantic coherence</li>
</ol>
</div>
</div>
<p>This design is particularly elegant because it allows the original model to retain its learned knowledge while gradually incorporating new control information through the zero-initialized layers.</p>
</section>
</section>
<section id="types-of-controlnet-models" class="level2">
<h2 class="anchored" data-anchor-id="types-of-controlnet-models">Types of ControlNet Models</h2>
<section id="canny-edge-detection" class="level3">
<h3 class="anchored" data-anchor-id="canny-edge-detection">Canny Edge Detection</h3>
<p>The Canny ControlNet is one of the most popular and versatile control methods. It uses the Canny edge detection algorithm to create line drawings that preserve the structural composition of reference images.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Use Cases</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Technical Details</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<ul>
<li>Converting sketches to detailed artwork</li>
<li>Maintaining architectural layouts</li>
<li>Preserving character poses and proportions</li>
<li>Creating variations while keeping composition intact</li>
</ul>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>Canny edge detection identifies areas of rapid intensity change in images, creating clean line drawings that capture essential structural information without color or texture details. The ControlNet then uses these edges as spatial constraints during generation.</p>
</div>
</div>
</div>
</section>
<section id="depth-map-control" class="level3">
<h3 class="anchored" data-anchor-id="depth-map-control">Depth Map Control</h3>
<p>Depth ControlNet utilizes depth information to control the three-dimensional structure of generated images. This is particularly powerful for architectural visualization and scene composition.</p>
<p><strong>Applications:</strong></p>
<ul>
<li>Interior design visualization</li>
<li>Landscape generation with specific topography</li>
<li>Product placement in 3D space</li>
<li>Architectural rendering</li>
</ul>
<p><strong>Implementation:</strong> Depth maps are typically generated using models like MiDaS (Monocular Depth Estimation) or can be manually created in 3D software. The depth information is encoded as grayscale images where darker pixels represent closer objects.</p>
</section>
<section id="openpose-human-detection" class="level3">
<h3 class="anchored" data-anchor-id="openpose-human-detection">OpenPose Human Detection</h3>
<p>The OpenPose ControlNet focuses specifically on human pose control, using skeletal keypoint detection to guide the generation of human figures in specific poses.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
OpenPose Features
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>18 keypoint skeleton detection</li>
<li>Hand and face pose estimation</li>
<li>Multi-person pose control</li>
<li>Precise gesture and posture control</li>
</ul>
</div>
</div>
<p><strong>Professional Applications:</strong></p>
<ul>
<li>Fashion photography concepts</li>
<li>Sports pose illustration</li>
<li>Dance and movement studies</li>
<li>Character design and animation pre-visualization</li>
</ul>
</section>
<section id="scribble-control" class="level3">
<h3 class="anchored" data-anchor-id="scribble-control">Scribble Control</h3>
<p>Scribble ControlNet allows users to provide rough sketches or scribbles as control input, making it highly accessible for quick concept development.</p>
<p><strong>Advantages:</strong></p>
<ul>
<li>No artistic skill required</li>
<li>Rapid prototyping</li>
<li>Intuitive control method</li>
<li>Compatible with touchscreen devices</li>
</ul>
</section>
<section id="semantic-segmentation" class="level3">
<h3 class="anchored" data-anchor-id="semantic-segmentation">Semantic Segmentation</h3>
<p>This ControlNet variant uses semantic segmentation maps where different colors represent different object categories (sky, trees, buildings, etc.).</p>
<p><strong>Professional Use Cases:</strong></p>
<ul>
<li>Landscape composition planning</li>
<li>Urban planning visualization</li>
<li>Environmental concept art</li>
<li>Scene layout design</li>
</ul>
</section>
<section id="normal-map-control" class="level3">
<h3 class="anchored" data-anchor-id="normal-map-control">Normal Map Control</h3>
<p>Normal maps provide surface detail information, allowing for precise control over lighting and surface textures in generated images.</p>
<p><strong>Applications:</strong></p>
<ul>
<li>Product visualization</li>
<li>Material design</li>
<li>Texture synthesis</li>
<li>3D rendering enhancement</li>
</ul>
</section>
<section id="line-art-lineart" class="level3">
<h3 class="anchored" data-anchor-id="line-art-lineart">Line Art (Lineart)</h3>
<p>Specialized for clean line drawings, this ControlNet excels at converting anime-style line art into fully rendered illustrations.</p>
<p><strong>Strengths:</strong></p>
<ul>
<li>Anime and manga artwork</li>
<li>Technical illustrations</li>
<li>Clean vector-style outputs</li>
<li>Precise line preservation</li>
</ul>
</section>
</section>
<section id="advanced-controlnet-techniques" class="level2">
<h2 class="anchored" data-anchor-id="advanced-controlnet-techniques">Advanced ControlNet Techniques</h2>
<section id="multi-controlnet-workflows" class="level3">
<h3 class="anchored" data-anchor-id="multi-controlnet-workflows">Multi-ControlNet Workflows</h3>
<p>One of ControlNet’s most powerful features is the ability to combine multiple control types simultaneously. This enables complex, multi-layered control over the generation process.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Common ControlNet Combinations
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><strong>Canny + Depth</strong>: Structural control with 3D spatial awareness</li>
<li><strong>OpenPose + Canny</strong>: Human pose with environmental structure</li>
<li><strong>Depth + Semantic Segmentation</strong>: 3D layout with object placement control</li>
<li><strong>Normal Map + Canny</strong>: Surface detail with edge preservation</li>
</ul>
</div>
</div>
<p><strong>Implementation Considerations:</strong> When using multiple ControlNets, careful weight balancing is crucial. Each ControlNet has a weight parameter (typically 0.0 to 2.0) that determines its influence on the final output. Higher weights increase control strength but may reduce creative flexibility.</p>
</section>
<section id="controlnet-preprocessing" class="level3">
<h3 class="anchored" data-anchor-id="controlnet-preprocessing">ControlNet Preprocessing</h3>
<p>Preprocessing is critical for optimal ControlNet performance. Each control type requires specific preprocessing to generate appropriate control images:</p>
<div id="tbl-preprocessing" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-preprocessing-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: ControlNet Preprocessing Parameters
</figcaption>
<div aria-describedby="tbl-preprocessing-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 28%">
<col style="width: 55%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th>Control Type</th>
<th>Preprocessing Parameters</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Canny</strong></td>
<td>Low threshold: 100<br>High threshold: 200<br>Gaussian blur: Optional</td>
<td>Captures fine details and strong edges</td>
</tr>
<tr class="even">
<td><strong>Depth</strong></td>
<td>Depth estimation model<br>Depth range normalization<br>Smoothing</td>
<td>MiDaS, DPT model selection</td>
</tr>
<tr class="odd">
<td><strong>OpenPose</strong></td>
<td>Model selection<br>Keypoint confidence<br>Hand/face detection</td>
<td>OpenPose, MediaPipe, DWPose</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
<section id="regional-control-techniques" class="level3">
<h3 class="anchored" data-anchor-id="regional-control-techniques">Regional Control Techniques</h3>
<p>Advanced users can implement regional control by masking different areas of the control input, allowing for varied control strength across different parts of the image.</p>
<p><strong>Methods:</strong></p>
<ul>
<li><strong>Masked ControlNet</strong>: Apply different control types to different regions</li>
<li><strong>Gradient Masks</strong>: Gradual transition between controlled and uncontrolled areas</li>
<li><strong>Layered Control</strong>: Stack multiple control influences with different regional masks</li>
</ul>
</section>
</section>
<section id="professional-workflows-and-applications" class="level2">
<h2 class="anchored" data-anchor-id="professional-workflows-and-applications">Professional Workflows and Applications</h2>
<section id="concept-art-and-pre-visualization" class="level3">
<h3 class="anchored" data-anchor-id="concept-art-and-pre-visualization">Concept Art and Pre-visualization</h3>
<p>ControlNet has revolutionized concept art workflows by enabling rapid iteration and precise control over composition and lighting.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Concept Art Workflow Example
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Create rough 3D blockout or sketch</li>
<li>Generate depth map and normal map</li>
<li>Use ControlNet to generate multiple style variations</li>
<li>Refine with additional ControlNet passes</li>
<li>Final polish with traditional digital painting techniques</li>
</ol>
</div>
</div>
</section>
<section id="architectural-visualization" class="level3">
<h3 class="anchored" data-anchor-id="architectural-visualization">Architectural Visualization</h3>
<p>Architects and designers use ControlNet to quickly generate photorealistic renderings from technical drawings and 3D models.</p>
<p><strong>Process:</strong></p>
<ol type="1">
<li>Export line drawings from CAD software</li>
<li>Create depth maps from 3D models</li>
<li>Generate semantic segmentation for material control</li>
<li>Use multi-ControlNet setup for comprehensive control</li>
<li>Iterate on lighting and atmosphere with prompt variations</li>
</ol>
</section>
<section id="fashion-and-product-design" class="level3">
<h3 class="anchored" data-anchor-id="fashion-and-product-design">Fashion and Product Design</h3>
<p>ControlNet enables precise product placement and modeling scenarios without expensive photoshoots.</p>
<p><strong>Applications:</strong></p>
<ul>
<li>Virtual try-on visualization</li>
<li>Product catalog generation</li>
<li>Fashion pose and styling exploration</li>
<li>Marketing material creation</li>
</ul>
</section>
<section id="film-and-animation-pre-production" class="level3">
<h3 class="anchored" data-anchor-id="film-and-animation-pre-production">Film and Animation Pre-production</h3>
<p>The film industry uses ControlNet for storyboarding, concept development, and pre-visualization.</p>
<p><strong>Benefits:</strong></p>
<ul>
<li>Rapid scene composition testing</li>
<li>Character pose and expression studies</li>
<li>Environment and set design exploration</li>
<li>Visual effects planning</li>
</ul>
</section>
</section>
<section id="technical-implementation" class="level2">
<h2 class="anchored" data-anchor-id="technical-implementation">Technical Implementation</h2>
<section id="model-training-and-fine-tuning" class="level3">
<h3 class="anchored" data-anchor-id="model-training-and-fine-tuning">Model Training and Fine-tuning</h3>
<p>Understanding ControlNet training helps users optimize their workflows and create custom control types.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Training Process Steps
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><strong>Dataset Preparation</strong>: Paired images with corresponding control inputs</li>
<li><strong>Architecture Setup</strong>: Clone base model encoder layers</li>
<li><strong>Zero Convolution Initialization</strong>: Initialize control injection layers to zero</li>
<li><strong>Gradual Training</strong>: Slowly introduce control influence while preserving base model knowledge</li>
<li><strong>Validation</strong>: Test on diverse control inputs and prompts</li>
</ol>
</div>
</div>
<p><strong>Custom ControlNet Training:</strong> Organizations can train custom ControlNets for specific use cases:</p>
<ul>
<li>Industry-specific control types</li>
<li>Style-specific guidance</li>
<li>Domain-adapted models</li>
</ul>
</section>
<section id="integration-with-existing-pipelines" class="level3">
<h3 class="anchored" data-anchor-id="integration-with-existing-pipelines">Integration with Existing Pipelines</h3>
<p>ControlNet integrates with various AI art platforms and tools:</p>
<p><strong>Popular Integrations:</strong></p>
<ul>
<li><strong>Automatic1111 WebUI</strong>: Comprehensive ControlNet extension</li>
<li><strong>ComfyUI</strong>: Node-based workflow integration</li>
<li><strong>InvokeAI</strong>: Professional-grade implementation</li>
<li><strong>Diffusers Library</strong>: Python API integration</li>
<li><strong>Krita Plugin</strong>: Direct integration with digital painting software</li>
</ul>
</section>
<section id="hardware-and-performance-considerations" class="level3">
<h3 class="anchored" data-anchor-id="hardware-and-performance-considerations">Hardware and Performance Considerations</h3>
<p>ControlNet requires additional computational resources compared to standard diffusion model inference.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">System Requirements</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Optimization Techniques</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<ul>
<li><strong>VRAM</strong>: 6-8GB minimum, 12GB+ recommended for multi-ControlNet</li>
<li><strong>Processing Power</strong>: Modern GPU with CUDA support</li>
<li><strong>Storage</strong>: Additional space for ControlNet model files (1.5-5GB each)</li>
</ul>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<ul>
<li>Model quantization for reduced VRAM usage</li>
<li>Attention slicing for memory efficiency</li>
<li>Batch processing for multiple generations</li>
<li>Control strength adjustment for performance tuning</li>
</ul>
</div>
</div>
</div>
</section>
</section>
<section id="best-practices-and-tips" class="level2">
<h2 class="anchored" data-anchor-id="best-practices-and-tips">Best Practices and Tips</h2>
<section id="control-weight-optimization" class="level3">
<h3 class="anchored" data-anchor-id="control-weight-optimization">Control Weight Optimization</h3>
<p>Finding the right balance between control strength and creative freedom is crucial for professional results.</p>
<div id="tbl-weights" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-weights-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Control Weight Guidelines
</figcaption>
<div aria-describedby="tbl-weights-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 39%">
<col style="width: 30%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th>Control Strength</th>
<th>Weight Range</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>High Control</strong></td>
<td>1.0-1.5</td>
<td>Precise reproduction, minimal deviation</td>
</tr>
<tr class="even">
<td><strong>Medium Control</strong></td>
<td>0.7-1.0</td>
<td>Good balance of control and creativity</td>
</tr>
<tr class="odd">
<td><strong>Low Control</strong></td>
<td>0.3-0.7</td>
<td>Loose guidance, high creativity</td>
</tr>
<tr class="even">
<td><strong>Subtle Control</strong></td>
<td>0.1-0.3</td>
<td>Gentle influence, maximum flexibility</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
<section id="prompt-engineering-with-controlnet" class="level3">
<h3 class="anchored" data-anchor-id="prompt-engineering-with-controlnet">Prompt Engineering with ControlNet</h3>
<p>Effective prompting becomes even more important when using ControlNet, as the prompt must work harmoniously with the control input.</p>
<p><strong>Strategies:</strong></p>
<ul>
<li><strong>Descriptive Consistency</strong>: Ensure prompts match control input content</li>
<li><strong>Style Specification</strong>: Clear artistic direction (photorealistic, artistic, etc.)</li>
<li><strong>Negative Prompting</strong>: Exclude unwanted elements that might conflict with control</li>
<li><strong>Weight Balancing</strong>: Balance prompt influence with control influence</li>
</ul>
</section>
<section id="quality-control-and-iteration" class="level3">
<h3 class="anchored" data-anchor-id="quality-control-and-iteration">Quality Control and Iteration</h3>
<p>Professional workflows require consistent quality and the ability to iterate effectively.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quality Assurance Checklist
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Multiple generation passes with slight variations</li>
<li>A/B testing different control strengths</li>
<li>Systematic prompt variations</li>
<li>Post-processing integration planning</li>
</ul>
</div>
</div>
</section>
</section>
<section id="limitations-and-considerations" class="level2">
<h2 class="anchored" data-anchor-id="limitations-and-considerations">Limitations and Considerations</h2>
<section id="technical-limitations" class="level3">
<h3 class="anchored" data-anchor-id="technical-limitations">Technical Limitations</h3>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Key Limitations
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><strong>Control Precision</strong>: Cannot guarantee pixel-perfect reproduction of control inputs</li>
<li><strong>Model Compatibility</strong>: Trained for specific base models</li>
<li><strong>Computational Overhead</strong>: Resource-intensive multi-ControlNet workflows</li>
</ul>
</div>
</div>
</section>
<section id="creative-limitations" class="level3">
<h3 class="anchored" data-anchor-id="creative-limitations">Creative Limitations</h3>
<ul>
<li><strong>Over-reliance on Control</strong>: Excessive control can limit AI’s creative potential</li>
<li><strong>Control Conflicts</strong>: Multiple control inputs may conflict with each other</li>
<li><strong>Learning Curve</strong>: Requires understanding of preprocessing techniques and parameter tuning</li>
</ul>
</section>
</section>
<section id="future-developments-and-trends" class="level2">
<h2 class="anchored" data-anchor-id="future-developments-and-trends">Future Developments and Trends</h2>
<section id="emerging-control-types" class="level3">
<h3 class="anchored" data-anchor-id="emerging-control-types">Emerging Control Types</h3>
<p>Research continues to expand ControlNet capabilities with new control modalities:</p>
<ul>
<li><strong>Audio-to-Visual Control</strong>: Synchronizing image generation with audio inputs</li>
<li><strong>Temporal Control</strong>: Video generation with frame-to-frame consistency</li>
<li><strong>3D Scene Control</strong>: Full 3D scene understanding and control</li>
<li><strong>Style Transfer Control</strong>: Precise artistic style application</li>
</ul>
</section>
<section id="integration-advancements" class="level3">
<h3 class="anchored" data-anchor-id="integration-advancements">Integration Advancements</h3>
<ul>
<li><strong>Real-time Processing</strong>: Optimization for real-time creative workflows</li>
<li><strong>VR/AR Integration</strong>: Spatial computing applications</li>
<li><strong>Cloud-based Solutions</strong>: Accessible high-performance processing</li>
<li><strong>Mobile Optimization</strong>: Smartphone and tablet compatibility</li>
</ul>
</section>
<section id="professional-adoption" class="level3">
<h3 class="anchored" data-anchor-id="professional-adoption">Professional Adoption</h3>
<p>Industries are increasingly integrating ControlNet into professional pipelines:</p>
<ul>
<li><strong>Architecture and Construction</strong>: Automated rendering from technical drawings</li>
<li><strong>Entertainment Industry</strong>: Rapid concept art and pre-visualization</li>
<li><strong>Marketing and Advertising</strong>: Dynamic content creation</li>
<li><strong>Education and Training</strong>: Visual learning material generation</li>
</ul>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>ControlNet represents a paradigm shift in AI image generation, transforming it from a creative experiment to a professional tool capable of precise, predictable outputs. Its ability to bridge the gap between human creative intent and AI capability has opened new possibilities across industries, from entertainment and architecture to fashion and marketing.</p>
<p>The technology’s modular design, allowing multiple control types to work in concert, provides unprecedented flexibility for creative professionals. As the ecosystem continues to evolve with new control modalities, better integration tools, and improved performance optimization, ControlNet is positioned to become an indispensable part of the modern creative workflow.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Key Takeaway
</div>
</div>
<div class="callout-body-container callout-body">
<p>Success with ControlNet requires understanding both its technical capabilities and creative possibilities. By mastering the balance between control and creativity, understanding the strengths and limitations of different control types, and developing efficient workflows, users can harness ControlNet’s full potential to create compelling, professionally viable AI-generated imagery.</p>
</div>
</div>
<p>The future of AI-assisted creativity lies not in replacing human creativity but in augmenting it with precise, controllable tools like ControlNet. As these technologies continue to mature, they promise to democratize high-quality visual content creation while empowering professionals to achieve new levels of creative expression and productivity.</p>



</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/theja-vanka\.github\.io\/blogs\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>© 2025 Krishnatheja Vanka</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>